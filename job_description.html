<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>工作職缺</title>
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
		
		<link  href= "./style.css"  rel= "stylesheet "  type= "text/css">
		<link  href= "./job_description_style.css"  rel= "stylesheet "  type= "text/css">
		<link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
		<link href="https://cdn.datatables.net/1.10.18/css/jquery.dataTables.min.css" rel="stylesheet">
		<script src="https://canvasjs.com/assets/script/jquery-1.11.1.min.js"></script>
		<script src="https://canvasjs.com/assets/script/jquery.canvasjs.min.js"></script>
		<script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
		<script type="text/javascript" src="./script.js"></script>
		
		<script src="https://cdn.datatables.net/1.10.19/js/jquery.dataTables.min.js"></script>
		

		<!-- <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script> -->
		<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
	</head>
	<body>
		<script src="./navbar.js"></script>
		
		<table id="job_description_form" class="display" style="width:100%; margin-top: 150px;">
        <thead">
            <tr>
                <th onclick="sortTable(0)" style="font-size: 20px; cursor: pointer;">職務名稱</th>
                <th onclick="sortTable(1)" style="font-size: 20px; cursor: pointer;">公司名稱</th>
                <th onclick="sortTable(2)" style="font-size: 20px; cursor: pointer;">學歷</th>
                <th onclick="sortTable(3)" style="font-size: 20px; cursor: pointer;">經歷</th>
                <th onclick="sortTable(4)" style="font-size: 20px; cursor: pointer;">工作地區</th>
                <th onclick="sortTable(5)" style="font-size: 20px; cursor: pointer;">刊登日</th>
            </tr>
        </thead>
        <tbody>
             <tr>
                <td>PM助理(業務助理)</td>
                <td>紅日應用材料有限公司</td>
                <td>大學</td>
                <td>1年以上</td>
                <td>新竹縣竹東鎮</td>
                <td>2018/12/24</td>
            </tr>
           
            </tbody>
        <tfoot>
            <tr>
                <th style="font-size: 20px;">職務名稱</th>
                <th style="font-size: 20px;">公司名稱</th>
                <th style="font-size: 20px;">學歷</th>
                <th style="font-size: 20px;">經歷</th>
                <th style="font-size: 20px;">工作地區</th>
                <th style="font-size: 20px;">刊登日</th>
                
            </tr>
        </tfoot>
    </table>
	</body>

	<script type="text/javascript">

		window.onload = function(){

			//從這撈資料，陣列仿照下面的格式

		   var data = 
		      [{"name": '菳寶能源科技有限公司', "company": '	菳寶能源科技有限公司',  "degree": "不拘", "experience": "2年以上", "location": "嘉義市嘉義市","start_date": "2018/12/22"}];

		      
		        var html = '';
		        
		        for (var d of data) {

		          html += `<tr><td height = "60px">${d.name}</td><td height = "60px">${d.company}</td><td height = "60px">${d.degree}</td><td height = "60px">${d.experience}</td><td height = "60px">${d.location}</td><td height = "60px">${d.start_date}</td></tr>`;        
		        }
		        // html = '<tr><td>abc</td><td>aaa</td><td>ccc</td><td>dddd</td><td>eee</td><td>gggg</td></tr>';
		        // document.getElementById('test').innerHTML = html;
		        $('#job_description_form').append(html);
		        return;
		    	}	
	</script>



	<script type="text/javascript">
		$(document).ready(function() {
    		$('#job_description_form').DataTable( {
    		select: true,
    		ordering: true,
        	scrollY:'50vh',
        	scrollCollapse: true,
        	paging: false
        	
    });
} );

		function sortTable(n) {
  			var table, rows, switching, i, x, y, shouldSwitch, dir, switchcount = 0;
 			 table = document.getElementById("job_description_form");
  			switching = true;
  // Set the sorting direction to ascending:
  			dir = "asc"; 
  /* Make a loop that will continue until
  no switching has been done: */
  			while (switching) {
    // Start by saying: no switching is done:
   			 switching = false;
    		rows = table.rows;
    /* Loop through all table rows (except the
    first, which contains table headers): */
    		for (i = 1; i < (rows.length - 1); i++) {
      // Start by saying there should be no switching:
      			shouldSwitch = false;
      /* Get the two elements you want to compare,
      one from current row and one from the next: */
			      x = rows[i].getElementsByTagName("TD")[n];
			      y = rows[i + 1].getElementsByTagName("TD")[n];
			      /* Check if the two rows should switch place,
			      based on the direction, asc or desc: */
			      if (dir == "asc") {
			      	if(n == 5){
			      	if (Number(x.innerHTML) > Number(y.innerHTML) ) {
					  shouldSwitch = true;
					  break;
					}
				}
			        if (x.innerHTML.toLowerCase() > y.innerHTML.toLowerCase()) {
			          // If so, mark as a switch and break the loop:
			          shouldSwitch = true;
         			 break;
       				 }
			      } else if (dir == "desc") {
			      	
				}
			        if (x.innerHTML.toLowerCase() < y.innerHTML.toLowerCase()) {
			          // If so, mark as a switch and break the loop:
			          shouldSwitch = true;
			          break;
			        }
			      }
			    }
				    if (shouldSwitch) {
				      /* If a switch has been marked, make the switch
				      and mark that a switch has been done: */
				      rows[i].parentNode.insertBefore(rows[i + 1], rows[i]);
				      switching = true;
				      // Each time a switch is done, increase this count by 1:
				      switchcount ++; 
				    } else {
				      /* If no switching has been done AND the direction is "asc",
				      set the direction to "desc" and run the while loop again. */
				      if (switchcount == 0 && dir == "asc") {
				        dir = "desc";
				        switching = true;
				      }
				    }
				  }
				


	</script>
	
</html>